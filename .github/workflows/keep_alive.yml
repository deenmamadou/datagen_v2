name: Keep Streamlit App Alive

on:
  schedule:
    - cron: "*/15 * * * *"   # ping every 15 minutes
  workflow_dispatch:         # allow manual trigger

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Keep Alive Ping
        run: |
          echo "Pinging Streamlit app..."
          curl -I -L \
            -c cookies.txt \
            -b cookies.txt \
            -A "Mozilla/5.0 (KeepAliveBot)" \
            https://datagen-v2.streamlit.app/ \
            --max-time 30

